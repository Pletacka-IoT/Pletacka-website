{**
 * @param string   $basePath web base path
 * @param array    $flashes  flash messages
 *}

{import 'components/form.latte'}
{import 'components/bubbles.latte'}
{import 'components/charts.latte'}

<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<link rel="icon" href="{$basePath}/images/Pletacka-IoT-100.png" />

	<link rel="stylesheet" href="{$basePath}/css/external/boostrap.css">
	<link rel="stylesheet" href="{$basePath}/css/external/c3.css">
	<link rel="stylesheet" href="{$basePath}/css/external/daterangepicker.css" />
	<link rel="stylesheet" href="{$basePath}/css/app/style.css">


	<script src="{$basePath}/js/external/jquery.min.js"></script>
	<script src="{$basePath}/js/external/bootstrap.min.js"></script>
	<script src="{$basePath}/js/external/c3.js"></script>
	<script src="{$basePath}/js/external/d3.js"></script>
	<script src="{$basePath}/js/external/moment.min.js"></script>
	<script src="{$basePath}/js/external/daterangepicker.min.js"></script>
{*	<script src="{$basePath}/js/main.js"></script>*}

	{ifset head}{include head|noescape} | {/ifset}

	<title n:snippet="title">{ifset title}{include title|stripHtml} | {/ifset}Pletacka IoT</title>

	<style>
			.mystyle {
				width: 100%;
				padding: 25px;
				background-color: coral;
				color: white;
				font-size: 25px;
				box-sizing: border-box;
			}
	</style>

{*	{block head}{/block}*}


</head>

<body>
	<div class="page">

		{snippet header}
				<nav class="navbar navbar-expand-md bg-dark navbar-dark fixed-top" id="my-header" ><!--fixed-top-->

				<!-- Brand/logo -->
				<a class="navbar-brand ajax" n:href="Homepage:default">
					<img src="{$basePath}/images/Pletacka-IoT-100.png" alt="logo" style="width:40px;">
				</a>

				<a class="navbar-brand ajax" n:href=:Core:Homepage:default>Pletačka IoT</a>

{*				<li class="nav-item ">*}
{*					<a class="ajax btn btn-warning btn-sm" n:href="RedrawAll!?_tracy_skip_error">Aktualizovat</a>*}
{*				</li>*}

				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="collapsibleNavbar">
					<ul class="navbar-nav">
						<li class="nav-item">
							{if $user->loggedIn}
								<a class="nav-link ajax" n:href="Sign:out">Odhlásit se</a>
							{else}
								<a class="nav-link ajax" n:href="Sign:in">Přihlásit se</a>
							{/if}
						</li>
						<li class="nav-item ">
							<a class="nav-link ajax" n:href="Overview:default">Přehled</a>
						</li>
{*						<li>*}
{*							<a class="nav-link btn-sm btn-warning" onClick="toggleHeaderTop()">Připni</a>*}
{*						</li>*}
						{if $user->loggedIn}
							<li class="nav-item">
								<a class="nav-link" target="_blank" href="{$basePath}/www/adminer">Adminer</a>
							</li>
							<li class="nav-item">
								<a class="nav-link ajax" n:href="SensorsSettings:default">Senzory</a>
							</li>
							<li class="nav-item ">
								<a class="nav-link ajax" n:href="WorkShift:default">Směny</a>
							</li>
							<li class="nav-item ">
								<a class="nav-link ajax" n:href="Test:chart">Grafy-test</a>
							</li>
							<li class="nav-item ">
								<a class="nav-link ajax" n:href="Test:debug">Debug</a>
							</li>
							<li class="nav-item ">
								<a class="nav-link ajax" n:href="DatabaseTest:default">Generátor dat</a>
							</li>


						{/if}
					</ul>
				</div>
{*				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">*}
{*					<span class="navbar-toggler-icon"></span>*}
{*				</button>*}
			</nav>
		{/snippet}

		<div class="content">
{*			//TODO fixed top message*}
			{snippet msg2}
			<div n:foreach="$flashes as $flash" n:class="flash, $flash->type, ">{$flash->message}</div>{*hide-big*}
			{/snippet}
			
			{snippet content}
				{include content}
			{/snippet}
		</div>
		{snippet footer}
			<div class="container-fluid text-center p-4 bg-secondary text-white" style="margin-bottom:0">
				<p>© {date('Y')} Pletacka IoT</p>

			</div>	
		{/snippet}
	</div>
{*	<div id="loader">*}
{*		Aktualizuji*}
{*	</div>*}

	{block scripts}
	{* <script src="https://nette.github.io/resources/js/3/netteForms.min.js"></script> *}
	<script src="{$basePath}/js/external/netteForms.min.js"></script>
{*	<script src="{$basePath}/js/external/Naja_v1.8.1.js"></script>*}
	<script src="{$basePath}/js/external/Naja-2-0-1.min.js"></script>
	<script src="{$basePath}/js/main.js"></script>
	{/block}
</body>
</html>

